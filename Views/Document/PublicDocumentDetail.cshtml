@{
    Layout = "~/Views/Shared/_Layout.cshtml";
    ViewData["Title"] = "T√†i li·ªáu chi ti·∫øt - Association Portal";
    var documentId = ViewData["DocumentId"];
}

<h2>üìÑ Chi ti·∫øt t√†i li·ªáu</h2>

<div id="documentDetail" class="mt-3"></div>

<a href="/document/listpublic" class="btn btn-secondary mt-3">‚¨Ö Quay l·∫°i danh s√°ch</a>

<script>
    async function loadDocumentDetail() {
        const id = '@documentId';
        const res = await fetch(`/document/public/${id}`);

        if (!res.ok) {
            document.getElementById('documentDetail').innerHTML =
                `<p class="text-danger">Kh√¥ng t√¨m th·∫•y t√†i li·ªáu ho·∫∑c ch∆∞a ƒë∆∞·ª£c duy·ªát.</p>`;
            return;
        }

        const doc = await res.json();
        document.getElementById('documentDetail').innerHTML = `
            <h4>${doc.documentTitle}</h4>
            <p><strong>T√°c gi·∫£:</strong> ${doc.authorName}</p>
            <p><strong>Danh m·ª•c:</strong> ${doc.categoryName}</p>
            <p><strong>Ng√†y duy·ªát:</strong> ${new Date(doc.approvedDate).toLocaleDateString()}</p>
            <a href="${doc.filePath}" target="_blank" class="btn btn-primary">üì• T·∫£i xu·ªëng t√†i li·ªáu</a>
        `;
    }

    loadDocumentDetail();
</script>
