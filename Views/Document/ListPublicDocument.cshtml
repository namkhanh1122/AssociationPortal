@{
    Layout = "~/Views/Shared/_Layout.cshtml";
    ViewData["Title"] = "Nhá»¯ng tÃ i liá»‡u chia sáº» - Association Portal";
}

<h2 class="mb-3">ðŸ“š Danh sÃ¡ch tÃ i liá»‡u Ä‘Ã£ duyá»‡t</h2>

<div id="documentList" class="list-group"></div>

<script>
    async function loadDocuments() {
        const res = await fetch('/document/public');
        const docs = await res.json();

        const container = document.getElementById('documentList');
        if (!docs || docs.length === 0) {
            container.innerHTML = `<p class="text-muted">ChÆ°a cÃ³ tÃ i liá»‡u nÃ o Ä‘Æ°á»£c duyá»‡t.</p>`;
            return;
        }

        container.innerHTML = docs.map(d => `
            <a href="/document/detail/${d.documentId}" 
               class="list-group-item list-group-item-action flex-column align-items-start">
                <div class="d-flex w-100 justify-content-between">
                    <h5 class="mb-1">${d.documentTitle}</h5>
                    <small>${new Date(d.approvedDate).toLocaleDateString()}</small>
                </div>
                <p class="mb-1">Danh má»¥c: ${d.categoryName}</p>
                <small>TÃ¡c giáº£: ${d.authorName}</small>
            </a>
        `).join('');
    }

    loadDocuments();
</script>
